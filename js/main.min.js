"use strict";var transition_Effect=new Vue({
el:"#app",
data:{
gas:"https://script.google.com/macros/s/AKfycbwyY7oLpoZ4lbcIwIWniLZ8U_pY8e7YBK9fakeszgR_77S2u1SV/exec",
schName:"",
Currents:"",
Capitals:"",
classAmt:"",
ReportedUUID:'',
person:{},
loading:!1
}
//https://www.geeksforgeeks.org/how-to-call-a-vue-js-function-on-page-load/

//javascript call vue function vue "Watching" demo
//https://www.cythilya.tw/2017/04/15/vue-watch/

,methods: {
	showTransition: function () {
	  console.log("transition effect active");
	  this.loading=!0;
	},
	hideTransition: function () {
		console.log("transition effect inactive");
		this.loading=!1;
	},
    // UUID 限填 7 碼
    limitUUIDIdLen(val) {
      if(val.length > 37) {
		alert("識別碼超過37位數");		  
        return this.ReportedUUID =  this.ReportedUUID.slice(0, 36);
      }
    },	
	//https://stackoverflow.com/questions/73765000/how-to-limit-a-max-number-for-a-number-input-in-vue
	validateNumbering(values){
		//console.log("輸入的資料是:%s,型態是：",this.Currents,typeof values);
		if (values>100){
			console.log("百分比超過100");
			let dummyNum=100;
			this.Currents=dummyNum.toString();

		}
	},
	
	validateEmail(value){
		if (/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(value))
		{
			console.log("正確的Emai格式");
		} else{
			console.log("Emai格式錯誤");
		} 
    },
	showException: function (event) {
		console("LOG in");
		var x=event.PageX;
		console.log(x);
	  }
  
  
}

,watch:{
schName:function(t){
	var n=this;
	console.log(t);
	//QueryString(t);

},
classAmt:function(s){	
	if (s>100){this.classAmt="班級數輸入有誤";}
},
Currents:function(s){	//console.log(s);
	//this.validateEmail(s);
	//this.validateNumbering(s);
	if (s>100){
			console.log("經常門百分比超過100");
			s=100;
			this.Currents=s.toString();
	}

	
	if (s!=""){
		//console.log("There are data present");
		let temp=parseInt(s,10);

		let calval=100-parseInt(s,10);
		console.log("s1=%s,calval=%s",s,calval);
	
		let el = document.getElementById("CapitalRation");
		el.value = calval;
		el.dispatchEvent(new Event('input'));
	}else{
		let el = document.getElementById("CapitalRation");
		el.value = 100;
		el.dispatchEvent(new Event('input'));

	}

},

ReportedUUID: function(val) {
      // ID 輸入到 36 碼就查詢資料
      if(val.length === 36) {
        // this.persons 裡沒這筆資料，才 POST
        //alert("查詢後將資料帶入");
        QueryUUID(val);
      }
    },


Capitals:function(s2){	
	//this.validateEmail(s);
	//this.validateNumbering(s);
	if (s2>100){
			console.log("資本門百分比超過100");
			s2=100;
			this.Capitals=s2;
	}
		console.log("There are data present s2 is:%s",s2);

	if (s2!=""){
		//console.log("There are data present");
		let temp=parseInt(s2,10);
		let calval=100-parseInt(s2,10);
		console.log("s2=%s,calval=%s",s2,calval);

		let el = document.getElementById("CurrentRation");
		el.value = calval;
	    el.dispatchEvent(new Event('input'));
	}else{
		let el = document.getElementById("CurrentRation");
		el.value = 100;
		el.dispatchEvent(new Event('input'));
		
	}
	

}
}
}
)
